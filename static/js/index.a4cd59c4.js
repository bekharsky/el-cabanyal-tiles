(()=>{"use strict";var e={657:function(e,r,t){var n=t(893),l=t(294),o=t(745),a=t(717),i=t(972),s=t(335),u=t(274),c=t(243),d=t.n(c);function f(e){let{tiles:r}=e,t=(0,a.Sx)();return(0,l.useEffect)(()=>{if(r.length>0){let e=[...r].sort((e,r)=>e.lat-r.lat||e.lng-r.lng),n=Math.floor(.3*r.length),l=Math.ceil(.7*r.length),o=e.slice(n,l),a=d().latLngBounds(o.map(e=>{let{lat:r,lng:t}=e;return[r,t]}));t.fitBounds(a,{padding:[50,50]})}},[r,t]),null}function h(e){let{tiles:r,currentIndex:t,setCurrentIndex:n}=e,o=(0,a.Sx)(),i=e=>{if(null===t||0===r.length)return t;let{lat:n,lng:l}=r[t],o=null,a=1/0;return r.forEach((r,i)=>{if(i===t)return;let s=r.lat-n,u=r.lng-l,c=!1;if("ArrowRight"===e&&u>0&&(c=!0),"ArrowLeft"===e&&u<0&&(c=!0),"ArrowUp"===e&&s>0&&(c=!0),"ArrowDown"===e&&s<0&&(c=!0),c){let e=Math.sqrt(s*s+u*u);e<a&&(a=e,o=i)}}),null!==o?o:t},s=(0,l.useCallback)(e=>{if(!["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key))return;let l=i(e.key);l!==t&&(n(l),o.flyTo([r[l].lat,r[l].lng],o.getZoom(),{animate:!0,duration:.5}))},[t,r,o,n]);return(0,l.useEffect)(()=>(window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}),[s]),null}t(901),o.createRoot(document.getElementById("root")).render((0,n.jsx)(l.StrictMode,{children:(0,n.jsx)(function(){let[e,r]=(0,l.useState)([]),[t,o]=(0,l.useState)(null);return(0,l.useEffect)(()=>{fetch("./tiles.json").then(e=>e.json()).then(e=>r(e)).catch(e=>console.error("Error loading tiles.json",e))},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.h,{style:{height:"100vh",width:"100vw"},zoom:14,keyboard:!1,children:[(0,n.jsx)(s.I,{url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),(0,n.jsx)(f,{tiles:e}),(0,n.jsx)(h,{tiles:e,currentIndex:t,setCurrentIndex:o}),e.map((e,r)=>{let{name:l,marker:a,lat:i,lng:s}=e;return(0,n.jsx)(u.J,{position:[i,s],icon:d().icon({iconUrl:a,iconSize:r===t?[80,100]:[40,50],iconAnchor:r===t?[40,100]:[20,50]}),keyboard:!1,eventHandlers:{click:()=>o(r)},zIndexOffset:1e4*(r===t)},l)})]}),null!==t&&(0,n.jsx)("aside",{className:"thumb",children:(0,n.jsx)("img",{src:e[t].thumbnail,alt:e[t].name})})]})},{})}))}},r={};function t(n){var l=r[n];if(void 0!==l)return l.exports;var o=r[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e=[];t.O=(r,n,l,o)=>{if(n){o=o||0;for(var a=e.length;a>0&&e[a-1][2]>o;a--)e[a]=e[a-1];e[a]=[n,l,o];return}for(var i=1/0,a=0;a<e.length;a++){for(var[n,l,o]=e[a],s=!0,u=0;u<n.length;u++)(!1&o||i>=o)&&Object.keys(t.O).every(e=>t.O[e](n[u]))?n.splice(u--,1):(s=!1,o<i&&(i=o));if(s){e.splice(a--,1);var c=l();void 0!==c&&(r=c)}}return r}})(),t.rv=()=>"1.2.8",(()=>{var e={980:0};t.O.j=r=>0===e[r];var r=(r,n)=>{var l,o,[a,i,s]=n,u=0;if(a.some(r=>0!==e[r])){for(l in i)t.o(i,l)&&(t.m[l]=i[l]);if(s)var c=s(t)}for(r&&r(n);u<a.length;u++)o=a[u],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},n=self.webpackChunkel_cabanyal_tiles=self.webpackChunkel_cabanyal_tiles||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))})(),t.ruid="bundler=rspack@1.2.8";var n=t.O(void 0,["361","551"],function(){return t(657)});n=t.O(n)})();